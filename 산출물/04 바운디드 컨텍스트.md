# 1. 서브 도메인 식별 (도메인 분할 산출물)
```
[핵심]
- 카탈로그 도메인 (관리자: 도서 검색/등록/수정/삭제, 리뷰)
- 대여 도메인 (사용자: 도서 검색, 대여, 반납, 연장, 예약, 연체)

[지원]
- 회원 도메인 (가입, 회원정보 수정)

[일반]
- 알림 도메인 (알림 발송)
- 인증/권한 도메인 (로그인, 권한)
```

Q. 현재 서브도메인을 그대로 바운디드 컨텍스트로 진행?
- 그렇게 그대로 진행

# 2. 유비쿼터스 언어 분석
- 도서
    - 카탈로그 컨텍스트
        - 액터: 관리자
        - 속성: ISBN, 제목, 저자, 목차, 출판사, 가격, 입고일
        - 행위: 등록, 수정, 삭제, 검색
    - 대여 컨텍스트
        - 액터: 일반사용자
        - 속성: ISBN, 제목, 대여상태, 반납예정일
        - 행위: 대여 가능 여부 확인, 대여, 반납, 예약
- 회원
    - 회원 컨텍스트
        - 속성: 이름, 연락처, 가입일, 회원상태
        - 행위: 가입, 수정, 탈퇴
    - 대여 컨텍스트
        - 속성: 회원ID, 대여권수, 연체횟수, 회원상태
        - 행위: 대여 가능 여부 확인, 연체 횟수 증가

# 3. 데이터 응집도 분석
## 응집도 분석
- 도서 대여 -> 도서 상태 변경, 회원 대여 권수 증가
- 도서 반납 -> 도서 상태 변경, 예약자 알림, 회원 대여 권수 감소
- 도서 연체 -> 회원 연체 횟수 증가, 연체료 계산

## 영향도 분석
- 회원 컨텍스트에서 회원 정보 수정
    - 대여 컨텍스트 영향 없음 (ID참조)
    - 알림 컨텍스트 영향 없음 (ID참조)

# 4. 배포 단위 분석
생략

# 5. 경계 확정
## 바운디드 컨텍스트
- 카탈로그 컨텍스트
    - 도서 관리 (등록/수정/삭제/검색)
    - 리뷰 관리
- 대여 컨텍스트
    - 검색/대여/반납/연장
    - 예약/연체
- 회원 컨텍스트  
    - 회원 가입
    - 정보관리
- 알림 컨텍스트
    - 알림 발송
- 인증 컨텍스트
    - 로그인/권한

## 컨텍스트 모델
- 카탈로그 컨텍스트
    - 엔티티
        - Book (ISBN, 제목, 저자, 목차, 출판사, 가격, 입고일)
        - Review (리뷰ID, 도서ISBN, 작성자, 내용, 평점, 작성일)
    - 값 객체
        - ISBN
        - Money (가격)
        - PublishedDate (입고일)
    - 애그리거트
        - Book
        - Review
- 대여 컨텍스트
    - 엔티티
        - Loan (대여ID, 회원ID, 도서ISBN, 대여일, 반납예정일, 상태)
        - Reservation (예약ID, 회원ID, 도서ISBN, 예약일, 순번)
    - 값 객체
        - LoanPeriod (대여기간)
        - Penalty (연체료)
        - ReservationOrder (예약순번)
    - 애그리거트 (Loan 수정 시 Reservation이 함께 수정되어야 하는지?)
        - Loan
        - Reservation
- 회원 컨텍스트
    - 엔티티
        - Member (회원ID, 이름, 연락처, 가입일, 상태)
    - 값 객체
        - MemberName
        - Contact
        - MemberStatus
    - 애그리거트
        - Member